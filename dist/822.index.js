"use strict";(self.webpackChunktodo_registration=self.webpackChunktodo_registration||[]).push([[822],{8326:function(e,t,r){r.d(t,{e:function(){return u}});var n=r(87522);function o(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,c,"next",e)}function c(e){o(i,n,a,u,c,"throw",e)}u(void 0)}))}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o,u,c,l,s,p;return t=e,r=null,o=[{key:"registration",value:(p=a(regeneratorRuntime.mark((function e(t,r,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.hi.post("/user/registration",{name:t,password:o,email:r});case 3:return a=e.sent,localStorage.setItem("token",a.data.accessToken),e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),!(e.t0.status=500)){e.next=12;break}return e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,r){return p.apply(this,arguments)})},{key:"login",value:(s=a(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.hi.post("/user/login",{password:r,email:t});case 3:return o=e.sent,localStorage.setItem("token",o.data.accessToken),e.abrupt("return",o.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t){return s.apply(this,arguments)})},{key:"isAuth",value:(l=a(regeneratorRuntime.mark((function e(){var t,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,localStorage.getItem("token")){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,n.hi.get("/user/refresh");case 5:return t=e.sent,localStorage.setItem("token",t.data.accessToken),e.abrupt("return",t.data.user);case 10:return e.prev=10,e.t0=e.catch(0),r=e.t0.response.data,o=r.message,a=r.type,i=r.errors,e.abrupt("return",{message:o,type:a,errors:i});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(){return l.apply(this,arguments)})},{key:"forgotPassword",value:(c=a(regeneratorRuntime.mark((function e(t){var r,o,a,i,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,o=t.password,e.prev=1,e.next=4,n.hi.post("/user/resetpassword",{email:r,password:o});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),a=e.t0.response.data,i=a.message,u=a.type,c=a.errors,new n.qL(i,u,c);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),function(e){return c.apply(this,arguments)})},{key:"validateToken",value:(u=a(regeneratorRuntime.mark((function e(t){var r,o,a,i,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.hi.post("/user/validatetoken",{token:t});case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),a=e.t0.response.data,i=a.message,u=a.type,c=a.errors,new n.qL(i,u,c);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e){return u.apply(this,arguments)})}],r&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},87522:function(e,t,r){r.d(t,{hi:function(){return v},qL:function(){return h}});var n=r(9669),o=r.n(n);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},c(e)}function l(e,t,r){return l=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o},l.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}var m="http://localhost:5000",v=o().create({withCredentials:!0,baseURL:m});v.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e})),v.interceptors.response.use((function(e){return e}),function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,401!==t.response.status||!r||r.retry){e.next=13;break}return r.retry=!0,e.prev=3,e.next=6,o().get("".concat(m,"/user/refresh"),{withCredentials:!0});case 6:return n=e.sent,localStorage.setItem("token",n.data.accessToken),e.abrupt("return",v.request(r));case 11:e.prev=11,e.t0=e.catch(3);case 13:throw t;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){d(a,n,o,i,u,"next",e)}function u(e){d(a,n,o,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,o,a,c=(t=l,r=s(),function(){var e,n=f(t);if(r){var o=f(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return u(this,e)});function l(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=c.call(this,e)).message=e,n.type=t,n.errors=r,n}return n=l,o&&i(n.prototype,o),a&&i(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}(c(Error))},60822:function(e,t,r){r.r(t),r.d(t,{Home:function(){return Ee}});var n=r(67294),o=r(26130),a=r(96540),i=r(71508),u=r(99632),c=r(24551),l=r(13264),s=(0,n.memo)((function(e){var t,r=e.color,o=e.setColor,a=e.isActive,i=null!==(t=r===a)&&void 0!==t&&t;return n.createElement(p,{onClick:function(){o(r)},sx:{border:"".concat(i?"3px solid #525252":"none"),backgroundColor:"".concat(r)}})})),p=(0,l.Z)("div")({width:"20px",height:"20px",borderRadius:"50%"}),f=r(50594),d=r(9617),m=r(25974),v=r(88767),h=r(87522);function y(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)}))}}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,o,a,i,u,c,l,s,p;return t=e,r=null,n=[{key:"getFolder",value:(p=g(regeneratorRuntime.mark((function e(){var t,r,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.get("/methods/getfolders");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),r=e.t0.response.data,n=r.message,o=r.type,a=r.errors,new h.qL(n,o,a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return p.apply(this,arguments)})},{key:"addFolder",value:(s=g(regeneratorRuntime.mark((function e(t,r){var n,o,a,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/addfolder",{color:t,folder:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),o=e.t0.response.data,a=o.message,i=o.type,u=o.errors,new h.qL(a,i,u);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return s.apply(this,arguments)})},{key:"deleteFolder",value:(l=g(regeneratorRuntime.mark((function e(t){var r,n,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/deletefolder",{folder:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),n=e.t0.response.data,o=n.message,a=n.type,i=n.errors,new h.qL(o,a,i);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return l.apply(this,arguments)})},{key:"changeTitle",value:(c=g(regeneratorRuntime.mark((function e(t,r){var n,o,a,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/changeTitle",{prevValue:t,currentValue:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),o=e.t0.response.data,a=o.message,i=o.type,u=o.errors,new h.qL(a,i,u);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return c.apply(this,arguments)})},{key:"addTask",value:(u=g(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/addTask",{title:t,task:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),o=e.t0.response.data,new h.qL(o.message,o.type,o.errors);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return u.apply(this,arguments)})},{key:"toggleTask",value:(i=g(regeneratorRuntime.mark((function e(t,r,n){var o,a,i,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/toggletask",{currentFolder:t,task:r,isCompleted:n});case 3:return o=e.sent,e.abrupt("return",o);case 7:throw e.prev=7,e.t0=e.catch(0),a=e.t0.response.data,i=a.message,u=a.type,c=a.errors,new h.qL(i,u,c);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t,r){return i.apply(this,arguments)})},{key:"changeText",value:(a=g(regeneratorRuntime.mark((function e(t,r,n){var o,a,i,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/changetext",{folder:t,valuePrev:r,valueNext:n});case 3:return o=e.sent,e.abrupt("return",o);case 7:throw e.prev=7,e.t0=e.catch(0),a=e.t0.response.data,i=a.message,u=a.type,c=a.errors,new h.qL(i,u,c);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t,r){return a.apply(this,arguments)})},{key:"deleteTask",value:(o=g(regeneratorRuntime.mark((function e(t,r){var n,o,a,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.hi.post("/methods/deletetask",{folderCurrent:t,taskText:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),o=e.t0.response.data,a=o.message,i=o.type,u=o.errors,new h.qL(a,i,u);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return o.apply(this,arguments)})}],r&&x(t.prototype,r),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=(0,d.Z)({palette:{primary:{main:"#4DD599"}}}),F=(0,n.memo)((function(){var e=new v.useQueryClient,t=k((0,n.useState)(!1),2),r=t[0],o=t[1],c=k((0,n.useState)(""),2),l=c[0],p=c[1],f=k((0,n.useState)(""),2),d=f[0],h=f[1],y=k((0,n.useState)(""),2),g=y[0],x=y[1],E=(0,n.useMemo)((function(){return["#C9D1D3","#42B883","#64C4ED","#FFBBCC","#B6E6BD","#C355F5","#09011A","#FF6464"]}),[]),F=(0,v.useMutation)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.addFolder(t.color,t.inputValue));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,u,"next",e)}function u(e){w(a,n,o,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(t){return O(),e.invalidateQueries("folder")},onError:function(e){x(e.message)}}),O=function(){o(!r),p(""),h(""),x("")},j=(0,n.useMemo)((function(){return function(e){p(e)}}),[]);return n.createElement(m.Z,{theme:C},n.createElement(i.Z,{sx:{position:"relative"}},n.createElement(R,{onClick:O,sx:{backgroundColor:"".concat(r&&"#FFFFFF")}},n.createElement(a.Z,null),n.createElement("p",{style:{marginLeft:"4px"}},"Add folder")),r&&n.createElement(S,null,n.createElement(T,{onClick:O}),n.createElement(u.Z,{error:!!g,helperText:g&&g,onChange:function(e){return h(e.target.value)},value:d,color:"primary",size:"small",id:"standard-basic",label:"Name of folder"}),n.createElement(Z,null,E.map((function(e){return n.createElement(s,{isActive:l,setColor:j,key:e,color:e})}))),n.createElement(A,{type:"submit",disabled:!(d.length>=1&&l),onClick:function(){F.mutate({color:l,inputValue:d})},variant:"contained"},"Add"))))})),R=(0,l.Z)("div")({marginTop:"37px",":hover":{backgroundColor:"#FFFFFF"},borderRadius:"4px",display:"flex",alignItems:"center",color:"#B4B4B4",cursor:"pointer",padding:"10px 10px 10px 3px",flexWrap:"wrap"}),S=(0,l.Z)("div")({position:"absolute",left:"30px",top:"56px",display:"flex",flexDirection:"column",width:"235px",backgroundColor:"#fff",padding:"18px",boxShadow:"0px 6px 10px rgba(0, 0, 0, 0.05)",borderRadius:"10px"}),T=(0,l.Z)(f.Z)({cursor:"pointer",position:"absolute",backgroundColor:"#5C5C5C",color:"#fff",top:"-8px",right:"-11px",borderRadius:"50%"}),Z=(0,l.Z)("div")({display:"flex","& div:not(:last-child)":{marginRight:"5px"},paddingTop:"13px"}),A=(0,l.Z)(c.Z)({marginTop:"13px",backgroundColor:"#4DD599",width:"100%",":focus,&:hover":{backgroundColor:"#3cad7c"}}),O=r(29647),j=r(88979),P=r(20658),I=r(56408),D=r(85518),L=r(65400),q=(0,n.memo)((function(e){var t=e.title,r=e.color,o=e.handleClickOpen,a=(0,L.h)(),i=a.currentTodo,u=a.setCurrentTodo;return n.createElement(M,{onClick:function(){u(t)},style:{background:"".concat(i===t?"#FFFFFF":""),boxShadow:"".concat(i===t?"0px 2px 10px rgba(0, 0, 0, 0.03)":"")}},n.createElement(Q,{style:{backgroundColor:"".concat(r),display:"".concat(D.tq?"none":"")}}),n.createElement(N,null,t),n.createElement(B,{className:"icon",onClick:function(e){o(e,t)}}))})),B=(0,l.Z)(f.Z)({color:"#E3E3E3",cursor:"".concat(D.tq?"":"pointer"),opacity:"".concat(D.tq?"1":"0"),visibility:"".concat(D.tq?"visible":"hidden"),width:"".concat(D.tq?"18px":"")}),M=(0,l.Z)("div")({padding:"10px",display:"flex",alignItems:"center",transition:"all 0.2s linear",borderRadius:"4px",marginTop:"14px",":hover":{background:"#FFFFFF",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.03)"},":hover .icon":{opacity:"1",visibility:"visible"}}),Q=(0,l.Z)("div")({borderRadius:"50%",width:"10px",height:"10px",flex:"0 0 10px"}),N=(0,l.Z)("div")({marginLeft:"10px",textOverflow:"ellipsis",flex:"1 1 auto",overflow:"hidden",whiteSpace:"nowrap"});function _(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W=function(){var e,t,r=U((0,n.useState)(!1),2),a=r[0],i=r[1],u=U((0,n.useState)(""),2),l=u[0],s=u[1],p=(0,L.h)(),f=p.currentTodo,d=p.setCurrentTodo,m=(0,n.useMemo)((function(){return function(e,t){e.stopPropagation(),i(!0),s(t)}}),[]),h=function(){i(!1)},y=function(){d("")},g=new v.useQueryClient,x=(0,v.useQuery)(["folder"],(function(){return b.getFolder()})).data,w=(0,v.useMutation)((function(e){return b.deleteFolder(e.title)}),{onSuccess:(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.invalidateQueries("folder");case 2:y();case 3:case"end":return e.stop()}}),e)})),t=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,u,"next",e)}function u(e){_(a,n,o,i,u,"throw",e)}i(void 0)}))},function(e){return t.apply(this,arguments)})});return n.createElement($,null,n.createElement(z,{style:{background:"".concat(f)?"none":"#FFFFFF",boxShadow:"".concat(f)?"none":"0px 2px 10px rgba(0, 0, 0, 0.03)"},onClick:y},n.createElement(o.Z,{sx:{color:"#7C7C7C",marginRight:"6px"}}),"All tasks"),n.createElement("div",null,(null==x?void 0:x.length)>=1&&(null==x?void 0:x.map((function(e){return n.createElement(q,{key:e.title,handleClickOpen:m,title:e.title,color:e.color})})))),n.createElement(F,null),n.createElement(O.Z,{open:a,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(P.Z,null,n.createElement(I.Z,{id:"alert-dialog-description"},"Do you really want to delete ",l," folder")),n.createElement(j.Z,null,n.createElement(c.Z,{onClick:h},"Disagree"),n.createElement(c.Z,{onClick:function(){w.mutate({title:l}),i(!1)},autoFocus:!0},"Agree"))))},$=(0,l.Z)("div")({backgroundColor:"#F4F6F8",width:"40%",height:"100%",padding:"57px 20px 210px 28px","@media (max-width: 1500px)":{paddingTop:"calc(15px + (57-15) * ((100vw - 320px) / (1500 - 320)))",paddingRight:"calc(15px + (20-15) * ((100vw - 320px) / (1500 - 320)))",paddingLeft:"calc(15px + (28-15) * ((100vw - 320px) / (1500 - 320)))"}}),z=(0,l.Z)("h3")({padding:"10px",fontSize:"14px",display:"flex",alignItems:"center",background:"#FFFFFF",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.03)",borderRadius:"4px",flexWrap:"wrap",whiteSpace:"nowrap"}),H=r(91535),G=r(60888),J=r(75058);function K(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee=(0,n.memo)((function(e){var t=e.text,r=e.isCompleted,o=e.currentFolder,a=e.isAll,i=X((0,n.useState)(!1),2),u=i[0],l=i[1],s=function(){l(!1)},p=X((0,n.useState)(!1),2),f=p[0],d=p[1],m=function(){return d(!f)},h=X((0,n.useState)(r),2),y=h[0],g=h[1],x=(0,n.useRef)(null),w=(0,n.useMemo)((function(){return(null==x?void 0:x.current)&&x.current.innerText}),[f]),k=new v.useQueryClient,E=(0,v.useMutation)((function(e){return b.toggleTask(e.folder,e.task,e.completed)}),{onSuccess:function(e){var t=e.data;k.setQueryData(["folder"],t.tasks),g(!y)}}),C=(0,v.useMutation)((function(e){var t=e.folder,r=e.valuePrev,n=e.valueNext;return b.changeText(t,r,n)}),{onSuccess:function(){k.invalidateQueries("folder"),m()},onError:function(e){x.current.innerText=w}}),F=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=x.current.innerText)!==w){e.next=3;break}return e.abrupt("return",m());case 3:if(t&&!(t.length>30)){e.next=6;break}return x.current.innerText=w,e.abrupt("return",m());case 6:C.mutate({folder:o,valuePrev:w,valueNext:t});case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){K(a,n,o,i,u,"next",e)}function u(e){K(a,n,o,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),R=(0,v.useMutation)((function(e){var t=e.folderCurrent,r=e.taskText;return b.deleteTask(t,r)}),{onSuccess:function(){k.invalidateQueries("folder")}});return(0,n.useEffect)((function(){var e,t,r;x&&(e=x.current,document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(r=window.getSelection()).removeAllRanges(),r.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select()))}),[f]),n.createElement(te,null,n.createElement(re,{className:"".concat(a?"all":"notall")},n.createElement("div",{style:{height:"24px"},onClick:a?function(){}:function(){E.mutate({folder:o,task:t,completed:!r})}},y?n.createElement(G.Z,{sx:{color:"#4DD599",cursor:"".concat(a?"":"pointer")}}):n.createElement(H.Z,{sx:{color:"white",border:"2px solid #E8E8E8",borderRadius:"50%",cursor:"".concat(a?"":"pointer")}})),n.createElement(ne,{className:"input",ref:x,suppressContentEditableWarning:!0,contentEditable:f,onBlur:F},t),n.createElement(oe,{onClick:m,className:"icon"}),n.createElement(ae,{onClick:function(){l(!0)},className:"icon"})),n.createElement(O.Z,{open:u,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(P.Z,null,n.createElement(I.Z,{id:"alert-dialog-description"},"Are you sure that you want to delete ",t)),n.createElement(j.Z,null,n.createElement(c.Z,{onClick:s},"Disagree"),n.createElement(c.Z,{onClick:function(){R.mutate({folderCurrent:o,taskText:t})}},"Agree"))))})),te=(0,l.Z)("div")({"& .notall":{":hover":{backgroundColor:"#F4F6F8"},"&:hover .icon":{opacity:"1",visibility:"visible",pointerEvents:"all"},"&:hover  .input":{backgroundColor:"#F4F6F8"},"& .icon":{opacity:"".concat(D.tq?"1":""),visibility:"".concat(D.tq?"visible":""),pointerEvents:"".concat(D.tq?"all":"")}}}),re=(0,l.Z)("div")({borderRadius:"4px",padding:"15px 15px 15px 15px",display:"flex",alignItems:"center",marginBottom:"-6px"}),ne=(0,l.Z)("div")({marginLeft:"15px",flex:"1 1 auto",textOverflow:"ellipsis",overflow:"hidden","@media (max-width: 700px)":{marginLeft:"10px"}}),oe=(0,l.Z)(J.Z)({height:"22px",width:"22px",color:"#E3E3E3",opacity:"0",visibility:"hidden",pointerEvents:"none",cursor:"pointer"}),ae=(0,l.Z)(f.Z)({color:"#E3E3E3",opacity:"0",visibility:"hidden",pointerEvents:"none",cursor:"pointer"});function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce=(0,n.memo)((function(e){var t=e.title,r=ie((0,n.useState)(!1),2),o=r[0],i=r[1],u=new v.useQueryClient,l=ie((0,n.useState)(""),2),s=l[0],p=l[1],f=(0,n.useRef)(null),d=(0,v.useMutation)((function(e){return b.addTask(e.folderName,e.task)}),{onError:function(e){p(e.message)},onSuccess:function(){m(),u.invalidateQueries("folder")}}),m=function(){i(!o)};return n.createElement(n.Fragment,null,!o&&n.createElement(se,{sx:{marginTop:"17px"},onClick:m},n.createElement(a.Z,null),n.createElement("p",{style:{marginLeft:"15px"}},"New task")),o&&n.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"25px"}},n.createElement(le,{inputRef:f,placeholder:"Text of the task",id:"outlined-basic",variant:"outlined",error:!!s,helperText:s}),n.createElement("div",null,n.createElement(c.Z,{onClick:function(){if(!f.current.value)return p("Could not be empty");d.mutate({folderName:t,task:f.current.value})},type:"submit",sx:{color:"white",marginTop:"15px",marginRight:"9px"},variant:"contained"},"Add task"),n.createElement(c.Z,{onClick:m,sx:{marginTop:"15px",color:"9C9C9C",backgroundColor:"#F4F6F8",":hover":{backgroundColor:"#cdd1d4"}},variant:"contained"},"Cancel"))))})),le=(0,l.Z)(u.Z)({height:"38px",maxWidth:"415px","& div":{height:"38px"},marginBottom:"9px","& p":{marginLeft:"0px"},"& input":{textOverflow:"ellipsis"}}),se=(0,l.Z)("div")({borderRadius:"4px",marginLeft:"-10px",display:"flex",alignItems:"center",color:"#B4B4B4",cursor:"pointer",padding:"10px",":hover":{backgroundColor:"#F4F6F8"}}),pe=r(2658);function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var me=(0,n.memo)((function(e){var t=e.title,r=e.color,o=e.isAll,a=(0,L.h)().setCurrentTodo,i=fe((0,n.useState)(!1),2),u=i[0],c=i[1],l=function(){return c(!u)},s=(0,n.useRef)(null),p=(0,n.useMemo)((function(){return(null==s?void 0:s.current)&&s.current.innerText}),[u]),f=(0,v.useQueryClient)(),d=(0,v.useMutation)(["changeTitle",p],(function(e){return b.changeTitle(p,e)}),{onSuccess:function(e){var t=e.data;f.setQueryData(["folder"],t.tasks),a(t.currentValue)},onError:function(){l(),s.current.innerText=p}});return(0,n.useEffect)((function(){var e,t,r;s&&(e=s.current,document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(r=window.getSelection()).removeAllRanges(),r.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select()))}),[u]),n.createElement(ve,null,n.createElement(pe.Z,{sx:{display:"flex",alignItems:"center"},component:"h2"},n.createElement(he,{suppressContentEditableWarning:!0,onBlur:function(){var e=s.current.innerText;return p===e?l():!e||e.length>30?(s.current.innerText=p,l()):void d.mutate(e)},ref:s,style:{color:"".concat(r)},contentEditable:u},t),!o&&n.createElement(J.Z,{onClick:l,sx:{color:"#DFDFDF",marginLeft:"14px",cursor:"pointer"}})))})),ve=(0,l.Z)("div")({display:"flex",alignItems:"center"}),he=(0,l.Z)("div")({"@media (max-width: 1500px)":{fontSize:"calc(15px + (38-15) * ((100vw - 320px) / (1500 - 320)))"}});var ye=function(e){var t=e.color,r=e.tasks,o=e.title,a=e.isAll;return n.createElement(ge,null,n.createElement(me,{color:t,title:o,isAll:a}),n.createElement("ul",{style:{margin:"8px 0px -10px -15px"}},r.map((function(e){return n.createElement(ee,{isAll:a,key:e.text,currentFolder:o,isCompleted:e.isCompleted,text:e.text})}))),!a&&n.createElement(ce,{title:o,color:"primary"}))},ge=(0,l.Z)("div")({paddingBottom:"20px",paddingTop:"20px",borderBottom:"1px solid #F2F2F2"}),xe=(0,d.Z)({palette:{primary:{main:"#4DD599"}}}),be=(0,n.memo)((function(){var e=(0,L.h)().currentTodo,t=(0,v.useQuery)(["folder"],(function(){return b.getFolder()})).data,r=(null==t?void 0:t.length)&&(null==t?void 0:t.find((function(t){return t.title===e})))||"";return n.createElement(m.Z,{theme:xe},n.createElement(i.Z,{sx:{padding:"0 15px"}},r?n.createElement(ye,{isAll:!1,tasks:r.tasks,title:r.title,color:r.color}):(null==t?void 0:t.length)>=1&&t.map((function(e){return n.createElement(ye,{isAll:!0,key:e.title,tasks:e.tasks,title:e.title,color:e.color})}))))})),we=r(96974),ke=r(8326),Ee=function(){var e=(0,we.s0)();return(0,v.useQuery)("isAuth",(function(){return ke.e.isAuth()}),{onSettled:function(t){if("auth"===t.type)return e("/login",{replace:!0})}}).isLoading?n.createElement("div",null):n.createElement("div",{style:{display:"flex",flex:"1 1 auto"}},n.createElement(W,null),n.createElement(Ce,null,n.createElement(be,null)))},Ce=(0,l.Z)("div")({padding:"56px 0 0 56px",width:"70%","@media (max-width: 1500px)":{paddingLeft:"calc(15px + (56-15) * ((100vw - 320px) / (1500 - 320)))"}})}}]);